<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Intro to D3</title>
  		<script type="text/javascript" src="./d3/d3.min.js"></script>
	</head>


	<body>
		<div id="title">
			<h1></h1>
  			<h2></h2>
  		</div>

  		<div class="container">
	    	<div id="chart"></div>
	 	</div>


		<script type="text/javascript">
			var width = 960;
			var height = 700;
			var margin = {top: 30, right: 30, bottom: 300, left: 40};
			var svg_w = width - margin.left - margin.right;
			var svg_h = height - margin.top - margin.bottom;

			var dataset;

			d3.json("data.json", function(error, data) {
    			if (error) {console.log(error);}

    			data.forEach(function(d) {
    				d.Number = +d.Number; 
    				d.ID = +d.ID;
    			})

    			dataset = data;

    			dataset.sort(function(x, y) {
    				return d3.ascending(x.Number, y.Number);
    			})

			var svg = d3.select("#chart")
					    .append("svg")
					    .attr("width", svg_w)
					    .attr("height", svg_h)
					    
		    var g = svg.append("g")
				    	.attr("transform", "translate("+ margin.left + "," + margin.top + ")");

	    	var barWidth = width / (dataset.length + 1);

	    	g.selectAll(".bar")
		        .data(dataset) 
		        .enter()
		        .append("rect") 
		        .attr("width", barWidth)
		        .attr("x", function(d, i){ return i*(barWidth+1); })
		        .attr("height", function(d){ return d.Number / 100; })
		        .attr("fill", "teal");


			
			});

			

		</script>
	</body>
</html>